import{connect}from"cloudflare:sockets";let userID="5e73fef9-6b67-4901-a501-a1376c933d8f";const proxyIPs=["ts.hpc.tw"],cn_hostnames=[""];let CDNIP="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d\u002e\u0073\u0067",IP1="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d",IP2="\u0063\u0069\u0073\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d",IP3="\u0061\u0066\u0072\u0069\u0063\u0061\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d",IP4="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d\u002e\u0073\u0067",IP5="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u0065\u0075\u0072\u006f\u0070\u0065\u002e\u0061\u0074",IP6="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d.mt",IP7="\u0071\u0061\u002e\u0076\u0069\u0073\u0061\u006d\u0069\u0064\u0064\u006c\u0065\u0065\u0061\u0073\u0074\u002e\u0063\u006f\u006d",IP8="\u0075\u0073\u0061\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d",IP9="\u006d\u0079\u0061\u006e\u006d\u0061\u0072\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d",IP10="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d.tw",IP11="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u0065\u0075\u0072\u006f\u0070\u0065\u002e\u0063\u0068",IP12="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u002e\u0063\u006f\u006d.br",IP13="\u0077\u0077\u0077\u002e\u0076\u0069\u0073\u0061\u0073\u006f\u0075\u0074\u0068\u0065\u0061\u0073\u0074\u0065\u0075\u0072\u006f\u0070\u0065\u002e\u0063\u006f\u006d",PT1="80",PT2="8080",PT3="8880",PT4="2052",PT5="2082",PT6="2086",PT7="2095",PT8="443",PT9="8443",PT10="2053",PT11="2083",PT12="2087",PT13="2096",proxyIP=proxyIPs[Math.floor(Math.random()*proxyIPs.length)],proxyPort=proxyIP.includes(":")?proxyIP.split(":")[1]:"443";const dohURL="https://cloudflare-dns.com/dns-query";if(!isValidUUID(userID))throw new Error("uuid is not valid");export default{async fetch(t,n,e){try{const{proxyip:e}=n;if(userID=n.uuid||userID,e)if(e.includes("]:")){let t=e.lastIndexOf(":");proxyPort=e.slice(t+1),proxyIP=e.slice(0,t)}else e.includes("]:")||e.includes("]")?(proxyPort="443",proxyIP=e):[proxyIP,proxyPort="443"]=e.split(":");else if(proxyIP.includes("]:")){let t=proxyIP.lastIndexOf(":");proxyPort=proxyIP.slice(t+1),proxyIP=proxyIP.slice(0,t)}else proxyIP.includes("]:")||proxyIP.includes("]")?proxyPort="443":[proxyIP,proxyPort="443"]=proxyIP.split(":");console.log("ProxyIP:",proxyIP),console.log("ProxyPort:",proxyPort),CDNIP=n.cdnip||CDNIP,IP1=n.ip1||IP1,IP2=n.ip2||IP2,IP3=n.ip3||IP3,IP4=n.ip4||IP4,IP5=n.ip5||IP5,IP6=n.ip6||IP6,IP7=n.ip7||IP7,IP8=n.ip8||IP8,IP9=n.ip9||IP9,IP10=n.ip10||IP10,IP11=n.ip11||IP11,IP12=n.ip12||IP12,IP13=n.ip13||IP13,PT1=n.pt1||PT1,PT2=n.pt2||PT2,PT3=n.pt3||PT3,PT4=n.pt4||PT4,PT5=n.pt5||PT5,PT6=n.pt6||PT6,PT7=n.pt7||PT7,PT8=n.pt8||PT8,PT9=n.pt9||PT9,PT10=n.pt10||PT10,PT11=n.pt11||PT11,PT12=n.pt12||PT12,PT13=n.pt13||PT13;const s=t.headers.get("Upgrade"),r=new URL(t.url);if(s&&"websocket"===s){if(r.pathname.includes("/proxyip=")){const t=r.pathname.split("=")[1];if(isValidIP(t))if(proxyIP=t,proxyIP.includes("]:")){let t=proxyIP.lastIndexOf(":");proxyPort=proxyIP.slice(t+1),proxyIP=proxyIP.slice(0,t)}else proxyIP.includes("]:")||proxyIP.includes("]")?proxyPort="443":[proxyIP,proxyPort="443"]=proxyIP.split(":")}return await \u0076\u006c\u0065\u0073\u0073OverWSHandler(t)}{const n=new URL(t.url);switch(n.pathname){case`/${userID}`:{const n=get\u0076\u006c\u0065\u0073\u0073Config(userID,t.headers.get("Host"));return new Response(`${n}`,{status:200,headers:{"Content-Type":"text/html;charset=utf-8"}})}case`/${userID}/ty`:{const n=gettyConfig(userID,t.headers.get("Host"));return new Response(`${n}`,{status:200,headers:{"Content-Type":"text/plain;charset=utf-8"}})}case`/${userID}/cl`:{const n=getclConfig(userID,t.headers.get("Host"));return new Response(`${n}`,{status:200,headers:{"Content-Type":"text/plain;charset=utf-8"}})}case`/${userID}/sb`:{const n=getsbConfig(userID,t.headers.get("Host"));return new Response(`${n}`,{status:200,headers:{"Content-Type":"application/json;charset=utf-8"}})}case`/${userID}/pty`:{const n=getptyConfig(userID,t.headers.get("Host"));return new Response(`${n}`,{status:200,headers:{"Content-Type":"text/plain;charset=utf-8"}})}case`/${userID}/pcl`:{const n=getpclConfig(userID,t.headers.get("Host"));return new Response(`${n}`,{status:200,headers:{"Content-Type":"text/plain;charset=utf-8"}})}case`/${userID}/psb`:{const n=getpsbConfig(userID,t.headers.get("Host"));return new Response(`${n}`,{status:200,headers:{"Content-Type":"application/json;charset=utf-8"}})}default:if("/"===n.pathname)return new Response('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">\n    <meta name="format-detection" content="telephone=no">\n    <title>Cosmic Proxy</title>\n    <style>\n        body {\n            margin: 0;\n            font-family: \'Arial\', sans-serif;\n            background: linear-gradient(180deg, #0a0a23 0%, #1b1b4f 100%);\n            color: #ffffff;\n            overflow-x: hidden; /* 只禁止水平滚动 */\n            min-height: 100vh; /* 确保占满屏幕高度 */\n        }\n        canvas {\n            position: fixed;\n            top: 0;\n            left: 0;\n            z-index: -1;\n        }\n        .container {\n            text-align: center;\n            padding: 20px 15px; /* 减少垂直内边距 */\n            position: relative;\n            z-index: 1;\n            box-sizing: border-box; /* 确保padding不影响宽度计算 */\n        }\n        h1 {\n            font-size: clamp(1.8em, 6vw, 3em); /* 响应式字体大小 */\n            text-shadow: 0 0 10px #00d4ff, 0 0 20px #00d4ff;\n            margin-bottom: 15px;\n            line-height: 1.2; /* 优化行高 */\n        }\n        p {\n            font-size: clamp(1em, 3vw, 1.2em); /* 响应式字体 */\n            max-width: 600px;\n            margin: 0 auto 25px;\n            line-height: 1.6;\n            padding: 0 5px; /* 避免文本贴边 */\n        }\n        .input-group {\n            max-width: 400px;\n            width: 90%; /* 增加宽度适应性 */\n            margin: 0 auto 20px;\n        }\n        input {\n            padding: 12px 15px; /* 增大点击区域 */\n            font-size: 1em;\n            width: 100%;\n            border: none;\n            border-radius: 25px;\n            background: rgba(255, 255, 255, 0.1);\n            color: #ffffff;\n            text-align: center;\n            box-sizing: border-box;\n            -webkit-appearance: none; /* 移除默认样式 */\n            appearance: none;\n        }\n        input::placeholder {\n            color: #cccccc;\n        }\n        .button {\n            display: inline-block;\n            padding: 15px 30px;\n            font-size: 1.1em;\n            color: #ffffff;\n            background: linear-gradient(45deg, #00d4ff, #ff00ff);\n            border: none;\n            border-radius: 25px;\n            text-decoration: none;\n            transition: transform 0.3s, box-shadow 0.3s;\n            box-shadow: 0 0 15px #00d4ff;\n            margin-top: 10px;\n            min-width: 200px; /* 确保按钮有足够宽度 */\n            cursor: pointer; /* 明确点击指示 */\n        }\n        .button:hover, .button:focus {\n            transform: scale(1.05); /* 适当减小缩放避免溢出 */\n            box-shadow: 0 0 25px #00d4ff, 0 0 50px #ff00ff;\n        }\n    </style>\n</head>\n<body>\n    <canvas id="stars"></canvas>\n    <div class="container">\n        <h1>Explore the Cosmos, Roam the Network</h1>\n        <p>Star trails weave the code of light-years in the night sky, while code flows as a galaxy of bits in the depths of silicon. The universe folds space-time with black holes, and the network stitches distances with nodes—both harbor humanity\'s undying curiosity: seeking echoes of civilization beyond billions of light-years, salvaging glimmers of thought from millions of data streams.<br><br>We are both wayfarers gazing at the stars and wanderers traversing the wires. When telescopes aim at the unknown depths of space, when fingertips brush the trembling screen, it is the same longing pulsing within: to measure the boundaries of existence through exploration, to weave a web of meaning through connection. The grandeur of the cosmos and the intricacy of the network resonate most marvelously in humanity\'s thirst for knowledge.</p>\n        <div class="input-group">\n            <input type="text" id="uuid" placeholder="Enter Your UUID" required>\n        </div>\n        <a href="#" class="button" onclick="handleAccess()">Access Proxy Configuration</a>\n    </div>\n    <script>\n        // 优化按钮点击处理\n        function handleAccess() {\n            const uuid = document.getElementById(\'uuid\').value.trim();\n            if (uuid) {\n                window.location.href = \'/\' + uuid;\n            } else {\n                // 提示用户输入UUID\n                alert(\'Please enter your UUID\');\n            }\n        }\n\n        // 星空动画优化\n        const canvas = document.getElementById(\'stars\');\n        const ctx = canvas.getContext(\'2d\');\n        \n        // 优化canvas尺寸设置\n        function resizeCanvas() {\n            canvas.width = window.innerWidth;\n            canvas.height = window.innerHeight;\n            // 重新生成星星以适应新尺寸\n            initStars();\n        }\n        \n        // 初始化星星\n        const stars = [];\n        function initStars() {\n            stars.length = 0; // 清空现有星星\n            const count = Math.floor((canvas.width * canvas.height) / 15000); // 根据屏幕尺寸调整星星数量\n            for (let i = 0; i < count; i++) {\n                stars.push({\n                    x: Math.random() * canvas.width,\n                    y: Math.random() * canvas.height,\n                    radius: Math.random() * 1.5,\n                    speed: Math.random() * 0.5 + 0.1\n                });\n            }\n        }\n        \n        // 动画优化\n        function animate() {\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            ctx.fillStyle = \'#ffffff\';\n            stars.forEach(star => {\n                ctx.beginPath();\n                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);\n                ctx.fill();\n                star.y += star.speed;\n                if (star.y > canvas.height) star.y = 0;\n            });\n            requestAnimationFrame(animate);\n        }\n        \n        // 初始化\n        resizeCanvas();\n        animate();\n        window.addEventListener(\'resize\', resizeCanvas);\n        \n        // 防止页面被意外缩放\n        document.addEventListener(\'touchmove\', function(e) {\n            if (e.touches.length > 1) {\n                e.preventDefault();\n            }\n        }, { passive: false });\n    <\/script>\n</body>\n</html>',{status:200,headers:{"Content-Type":"text/html;charset=utf-8"}});if(cn_hostnames.includes(""))return new Response(JSON.stringify(t.cf,null,4),{status:200,headers:{"Content-Type":"application/json;charset=utf-8"}});const e=cn_hostnames[Math.floor(Math.random()*cn_hostnames.length)],s=new Headers(t.headers);s.set("cf-connecting-ip","1.2.3.4"),s.set("x-forwarded-for","1.2.3.4"),s.set("x-real-ip","1.2.3.4"),s.set("referer","https://www.google.com/search?q=edtunnel");const r="https://"+e+n.pathname+n.search;let a=new Request(r,{method:t.method,headers:s,body:t.body,redirect:"manual"});const o=await fetch(a,{redirect:"manual"});return[301,302].includes(o.status)?new Response(`Redirects to ${e} are not allowed.`,{status:403,statusText:"Forbidden"}):o}}}catch(t){return new Response(t.toString())}}};function isValidIP(t){return/^[\s\S]*$/.test(t)}async function \u0076\u006c\u0065\u0073\u0073OverWSHandler(t){const n=new WebSocketPair,[e,s]=Object.values(n);s.accept();let r="",a="";const o=(t,n)=>{console.log(`[${r}:${a}] ${t}`,n||"")},i=t.headers.get("sec-websocket-protocol")||"",d=makeReadableWebSocketStream(s,i,o);let l={value:null},p=null,c=!1;return d.pipeTo(new WritableStream({async write(t,n){if(c&&p)return p(t);if(l.value){const n=l.value.writable.getWriter();return await n.write(t),void n.releaseLock()}const{hasError:e,message:i,portRemote:d=443,addressRemote:$="",rawDataIndex:u,cloudflareVersion:_=new Uint8Array([0,0]),isUDP:P}=await processcloudflareHeader(t,userID);if(r=$,a=`${d}--${Math.random()} ${P?"udp ":"tcp "} `,e)throw new Error(i);if(P){if(53!==d)throw new Error("UDP proxy only enable for DNS which is port 53");c=!0}const h=new Uint8Array([_[0],0]),y=t.slice(u);if(c){const{write:t}=await handleUDPOutBound(s,h,o);return p=t,void p(y)}handleTCPOutBound(l,$,d,y,s,h,o)},close(){o("readableWebSocketStream is close")},abort(t){o("readableWebSocketStream is abort",JSON.stringify(t))}})).catch(t=>{o("readableWebSocketStream pipeTo error",t)}),new Response(null,{status:101,webSocket:e})}async function checkUuidInApiResponse(t){try{const n=await getApiResponse();if(!n)return!1;return n.users.some(n=>n.uuid===t)}catch(t){return console.error("Error:",t),!1}}async function getApiResponse(){return{users:[]}}async function handleTCPOutBound(t,n,e,s,r,a,o){async function i(n,e){/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(n)&&(n=`${atob("d3d3Lg==")}${n}${atob("LnNzbGlwLmlv")}`);const r=connect({hostname:n,port:e});t.value=r,o(`connected to ${n}:${e}`);const a=r.writable.getWriter();return await a.write(s),a.releaseLock(),r}remoteSocketToWS(await i(n,e),r,a,async function(){const t=await i(proxyIP||n,proxyPort||e);t.closed.catch(t=>{console.log("retry tcpSocket closed error",t)}).finally(()=>{safeCloseWebSocket(r)}),remoteSocketToWS(t,r,a,null,o)},o)}function makeReadableWebSocketStream(t,n,e){let s=!1;return new ReadableStream({start(r){t.addEventListener("message",t=>{if(s)return;const n=t.data;r.enqueue(n)}),t.addEventListener("close",()=>{safeCloseWebSocket(t),s||r.close()}),t.addEventListener("error",t=>{e("webSocketServer has error"),r.error(t)});const{earlyData:a,error:o}=base64ToArrayBuffer(n);o?r.error(o):a&&r.enqueue(a)},pull(t){},cancel(n){s||(e(`ReadableStream was canceled, due to ${n}`),s=!0,safeCloseWebSocket(t))}})}async function processcloudflareHeader(t,n){if(t.byteLength<24)return{hasError:!0,message:"invalid data"};const e=new Uint8Array(t.slice(0,1));let s=!1,r=!1;const a=stringify(new Uint8Array(t.slice(1,17))),o=n.includes(",")?n.split(","):[n],i=await checkUuidInApiResponse(a);if(s=o.some(t=>i||a===t.trim()),console.log(`checkUuidInApi: ${await checkUuidInApiResponse(a)}, userID: ${a}`),!s)return{hasError:!0,message:"invalid user"};const d=new Uint8Array(t.slice(17,18))[0],l=new Uint8Array(t.slice(18+d,18+d+1))[0];if(1===l);else{if(2!==l)return{hasError:!0,message:`command ${l} is not support, command 01-tcp,02-udp,03-mux`};r=!0}const p=18+d+1,c=t.slice(p,p+2),$=new DataView(c).getUint16(0);let u=p+2;const _=new Uint8Array(t.slice(u,u+1))[0];let P=0,h=u+1,y="";switch(_){case 1:P=4,y=new Uint8Array(t.slice(h,h+P)).join(".");break;case 2:P=new Uint8Array(t.slice(h,h+1))[0],h+=1,y=(new TextDecoder).decode(t.slice(h,h+P));break;case 3:P=16;const n=new DataView(t.slice(h,h+P)),e=[];for(let t=0;t<8;t++)e.push(n.getUint16(2*t).toString(16));y=e.join(":");break;default:return{hasError:!0,message:`invild  addressType is ${_}`}}return y?{hasError:!1,addressRemote:y,addressType:_,portRemote:$,rawDataIndex:h+P,cloudflareVersion:e,isUDP:r}:{hasError:!0,message:`addressValue is empty, addressType is ${_}`}}async function remoteSocketToWS(t,n,e,s,r){let a=e,o=!1;await t.readable.pipeTo(new WritableStream({start(){},async write(t,e){o=!0,n.readyState!==WS_READY_STATE_OPEN&&e.error("webSocket.readyState is not open, maybe close"),a?(n.send(await new Blob([a,t]).arrayBuffer()),a=null):n.send(t)},close(){r(`remoteConnection!.readable is close with hasIncomingData is ${o}`)},abort(t){console.error("remoteConnection!.readable abort",t)}})).catch(t=>{console.error("remoteSocketToWS has exception ",t.stack||t),safeCloseWebSocket(n)}),!1===o&&s&&(r("retry"),s())}function base64ToArrayBuffer(t){if(!t)return{error:null};try{t=t.replace(/-/g,"+").replace(/_/g,"/");const n=atob(t);return{earlyData:Uint8Array.from(n,t=>t.charCodeAt(0)).buffer,error:null}}catch(t){return{error:t}}}function isValidUUID(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}const WS_READY_STATE_OPEN=1,WS_READY_STATE_CLOSING=2;function safeCloseWebSocket(t){try{t.readyState!==WS_READY_STATE_OPEN&&t.readyState!==WS_READY_STATE_CLOSING||t.close()}catch(t){console.error("safeCloseWebSocket error",t)}}const byteToHex=[];for(let t=0;t<256;++t)byteToHex.push((t+256).toString(16).slice(1));function unsafeStringify(t,n=0){return(byteToHex[t[n+0]]+byteToHex[t[n+1]]+byteToHex[t[n+2]]+byteToHex[t[n+3]]+"-"+byteToHex[t[n+4]]+byteToHex[t[n+5]]+"-"+byteToHex[t[n+6]]+byteToHex[t[n+7]]+"-"+byteToHex[t[n+8]]+byteToHex[t[n+9]]+"-"+byteToHex[t[n+10]]+byteToHex[t[n+11]]+byteToHex[t[n+12]]+byteToHex[t[n+13]]+byteToHex[t[n+14]]+byteToHex[t[n+15]]).toLowerCase()}function stringify(t,n=0){const e=unsafeStringify(t,n);if(!isValidUUID(e))throw TypeError("Stringified UUID is invalid");return e}async function handleUDPOutBound(t,n,e){let s=!1;const r=new TransformStream({start(t){},transform(t,n){for(let e=0;e<t.byteLength;){const s=t.slice(e,e+2),r=new DataView(s).getUint16(0),a=new Uint8Array(t.slice(e+2,e+2+r));e=e+2+r,n.enqueue(a)}},flush(t){}});r.readable.pipeTo(new WritableStream({async write(r){const a=await fetch(dohURL,{method:"POST",headers:{"content-type":"application/dns-message"},body:r}),o=await a.arrayBuffer(),i=o.byteLength,d=new Uint8Array([i>>8&255,255&i]);t.readyState===WS_READY_STATE_OPEN&&(e(`doh success and dns message length is ${i}`),s?t.send(await new Blob([d,o]).arrayBuffer()):(t.send(await new Blob([n,d,o]).arrayBuffer()),s=!0))}})).catch(t=>{e("dns udp has error"+t)});const a=r.writable.getWriter();return{write(t){a.write(t)}}}function get\u0076\u006c\u0065\u0073\u0073Config(t,n){const e=`\u0076\u006c\u0065\u0073\u0073://${t}@${CDNIP}:8880?encryption=none&security=none&type=ws&host=${n}&path=%2F%3Fed%3D2560#${n}`,s=`\u0076\u006c\u0065\u0073\u0073://${t}@${CDNIP}:8443?encryption=none&security=tls&type=ws&host=${n}&sni=${n}&fp=random&path=%2F%3Fed%3D2560#${n}`,r=`全局ProxyIP：${proxyIP}`,a=`https://${n}/${t}/ty`,o=`https://${n}/${t}/cl`,i=`https://${n}/${t}/sb`,d=`https://${n}/${t}/pty`,l=`https://${n}/${t}/pcl`,p=`https://${n}/${t}/psb`,c=btoa(`\u0076\u006c\u0065\u0073\u0073://${t}@${IP1}:${PT1}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V1_${IP1}_${PT1}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP2}:${PT2}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V2_${IP2}_${PT2}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP3}:${PT3}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V3_${IP3}_${PT3}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP4}:${PT4}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V4_${IP4}_${PT4}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP5}:${PT5}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V5_${IP5}_${PT5}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP6}:${PT6}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V6_${IP6}_${PT6}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP7}:${PT7}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V7_${IP7}_${PT7}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP8}:${PT8}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V8_${IP8}_${PT8}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP9}:${PT9}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V9_${IP9}_${PT9}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP10}:${PT10}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V10_${IP10}_${PT10}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP11}:${PT11}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V11_${IP11}_${PT11}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP12}:${PT12}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V12_${IP12}_${PT12}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP13}:${PT13}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V13_${IP13}_${PT13}`),$=btoa(`\u0076\u006c\u0065\u0073\u0073://${t}@${IP8}:${PT8}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V8_${IP8}_${PT8}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP9}:${PT9}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V9_${IP9}_${PT9}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP10}:${PT10}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V10_${IP10}_${PT10}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP11}:${PT11}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V11_${IP11}_${PT11}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP12}:${PT12}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V12_${IP12}_${PT12}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP13}:${PT13}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V13_${IP13}_${PT13}`),u=r.replace(/\n/g,"<br>"),_='\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">\n<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"><\/script>\n<style>\n.limited-width {\n    max-width: 200px;\n    overflow: auto;\n    word-wrap: break-word;\n}\n</style>\n</head>\n<script>\nfunction copyToClipboard(text) {\n  const input = document.createElement(\'textarea\');\n  input.style.position = \'fixed\';\n  input.style.opacity = 0;\n  input.value = text;\n  document.body.appendChild(input);\n  input.select();\n  document.execCommand(\'Copy\');\n  document.body.removeChild(input);\n  alert(\'已复制到剪贴板\');\n}\n<\/script>\n';return n.includes("workers.dev")?`\n<br>\n<br>\n${_}\n<body>\n<div class="container">\n    <div class="row">\n        <div class="col-md-12">\n            <h1>穿越时空隧道之羽 V28.6.2</h1>\n\t    <hr>\n            <p>${u}</p>\n            <hr>\n\t    <hr>\n\t    <hr>\n            <br>\n            <br>\n            <h3>1：CF-workers-\u0076\u006c\u0065\u0073\u0073+ws节点</h3>\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>节点特色：</th>\n\t\t\t\t\t\t<th>单节点链接如下：</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class="limited-width">关闭了TLS加密，无视域名阻断</td>\n\t\t\t\t\t\t<td class="limited-width">${e}</td>\n\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${e}')">点击复制链接</button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n            <h5>客户端参数如下：</h5>\n            <ul>\n                <li>客户端地址(address)：自定义的域名 或者 优选域名 或者 优选IP 或者 反代IP</li>\n                <li>端口(port)：7个http端口可任意选择(80、8080、8880、2052、2082、2086、2095)，或反代IP对应端口</li>\n                <li>用户ID(uuid)：${t}</li>\n                <li>传输协议(network)：ws 或者 websocket</li>\n                <li>伪装域名(host)：${n}</li>\n                <li>路径(path)：/?ed=2560</li>\n\t\t<li>传输安全(TLS)：关闭</li>\n            </ul>\n            <hr>\n\t\t\t<hr>\n\t\t\t<hr>\n            <br>\n            <br>\n            <h3>2：CF-workers-\u0076\u006c\u0065\u0073\u0073+ws+tls节点</h3>\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>节点特色：</th>\n\t\t\t\t\t\t<th>单节点链接如下：</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class="limited-width">启用了TLS加密，<br>如果客户端支持分片(Fragment)功能，建议开启，防止域名阻断</td>\n\t\t\t\t\t\t<td class="limited-width">${s}</td>\t\n\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${s}')">点击复制链接</button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n            <h5>客户端参数如下：</h5>\n            <ul>\n                <li>客户端地址(address)：自定义的域名 或者 优选域名 或者 优选IP 或者 反代IP</li>\n                <li>端口(port)：6个https端口可任意选择(443、8443、2053、2083、2087、2096)，或反代IP对应端口</li>\n                <li>用户ID(uuid)：${t}</li>\n                <li>传输协议(network)：ws 或者 websocket</li>\n                <li>伪装域名(host)：${n}</li>\n                <li>路径(path)：/?ed=2560</li>\n                <li>传输安全(TLS)：开启</li>\n                <li>跳过证书验证(allowlnsecure)：false</li>\n\t\t\t</ul>\n\t\t\t<hr>\n\t\t\t<hr>\n\t\t\t<hr>\n\t\t\t<br>\t\n\t\t\t<br>\n\t\t\t<h3>3：聚合通用、Clash-meta、Sing-box订阅链接如下：</h3>\n\t\t\t<hr>\n\t\t\t<p>注意：<br>1、默认每个订阅链接包含TLS+非TLS共13个端口节点<br>2、当前workers域名作为订阅链接，需通过代理进行订阅更新<br>3、如使用的客户端不支持分片功能，则TLS节点不可用</p>\n\t\t\t<hr>\n\n\n\t\t\t<table class="table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>聚合通用分享链接 (可直接导入客户端)：</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${c}')">点击复制链接</button></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\n\n   \n\t\t\t<table class="table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>聚合通用订阅链接：</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class="limited-width">${a}</td>\t\n\t\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${a}')">点击复制链接</button></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\t\n\n\t\t\t\t<table class="table">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Clash-meta订阅链接：</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class="limited-width">${o}</td>\t\n\t\t\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${o}')">点击复制链接</button></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class="table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Sing-box订阅链接：</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class="limited-width">${i}</td>\t\n\t\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${i}')">点击复制链接</button></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<br>\n\t\t\t\t<br>\n        </div>\n    </div>\n</div>\n</body>\n`:`\n<br>\n<br>\n${_}\n<body>\n<div class="container">\n    <div class="row">\n        <div class="col-md-12">\n            <h1>穿越时空隧道之羽 V28.6.2</h1>\n\t\t\t<hr>\n            <p>${u}</p>\n            <hr>\n\t\t\t<hr>\n\t\t\t<hr>\n            <br>\n            <br>\n            <h3>1：CF-pages/workers/自定义域-\u0076\u006c\u0065\u0073\u0073+ws+tls节点</h3>\n\t\t\t<table class="table">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>节点特色：</th>\n\t\t\t\t\t\t<th>单节点链接如下：</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td class="limited-width">启用了TLS加密，<br>如果客户端支持分片(Fragment)功能，可开启，防止域名阻断</td>\n\t\t\t\t\t\t<td class="limited-width">${s}</td>\n\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${s}')">点击复制链接</button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n            <h5>客户端参数如下：</h5>\n            <ul>\n                <li>客户端地址(address)：自定义的域名 或者 优选域名 或者 优选IP 或者 反代IP</li>\n                <li>端口(port)：6个https端口可任意选择(443、8443、2053、2083、2087、2096)，或反代IP对应端口</li>\n                <li>用户ID(uuid)：${t}</li>\n                <li>传输协议(network)：ws 或者 websocket</li>\n                <li>伪装域名(host)：${n}</li>\n                <li>路径(path)：/?ed=2560</li>\n                <li>传输安全(TLS)：开启</li>\n                <li>跳过证书验证(allowlnsecure)：false</li>\n\t\t\t</ul>\n            <hr>\n\t\t\t<hr>\n\t\t\t<hr>\n            <br>\n            <br>\n\t\t\t<h3>2：聚合通用、Clash-meta、Sing-box订阅链接如下：</h3>\n\t\t\t<hr>\n\t\t\t<p>注意：以下订阅链接仅6个TLS端口节点</p>\n\t\t\t<hr>\n\n\n\t\t\t<table class="table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>聚合通用分享链接 (可直接导入客户端)：</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${$}')">点击复制链接</button></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\n\n\n\t\t\t<table class="table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>聚合通用订阅链接：</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class="limited-width">${d}</td>\t\n\t\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${d}')">点击复制链接</button></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\t\n\n\t\t\t\t<table class="table">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Clash-meta订阅链接：</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class="limited-width">${l}</td>\t\n\t\t\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${l}')">点击复制链接</button></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\n\t\t\t\t\t<table class="table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Sing-box订阅链接：</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class="limited-width">${p}</td>\t\n\t\t\t\t\t\t\t<td><button class="btn btn-primary" onclick="copyToClipboard('${p}')">点击复制链接</button></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<br>\n\t\t\t\t<br>\n        </div>\n    </div>\n</div>\n</body>\n`}function gettyConfig(t,n){return`${btoa(`\u0076\u006c\u0065\u0073\u0073://${t}@${IP1}:${PT1}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V1_${IP1}_${PT1}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP2}:${PT2}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V2_${IP2}_${PT2}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP3}:${PT3}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V3_${IP3}_${PT3}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP4}:${PT4}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V4_${IP4}_${PT4}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP5}:${PT5}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V5_${IP5}_${PT5}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP6}:${PT6}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V6_${IP6}_${PT6}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP7}:${PT7}?encryption=none&security=none&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V7_${IP7}_${PT7}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP8}:${PT8}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V8_${IP8}_${PT8}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP9}:${PT9}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V9_${IP9}_${PT9}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP10}:${PT10}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V10_${IP10}_${PT10}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP11}:${PT11}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V11_${IP11}_${PT11}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP12}:${PT12}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V12_${IP12}_${PT12}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP13}:${PT13}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V13_${IP13}_${PT13}`)}`}function getclConfig(t,n){return`\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: false\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 114.114.114.114\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n- name: CF_V1_${IP1}_${PT1}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP1.replace(/[\[\]]/g,"")}\n  port: ${PT1}\n  uuid: ${t}\n  udp: false\n  tls: false\n  network: ws\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V2_${IP2}_${PT2}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP2.replace(/[\[\]]/g,"")}\n  port: ${PT2}\n  uuid: ${t}\n  udp: false\n  tls: false\n  network: ws\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V3_${IP3}_${PT3}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP3.replace(/[\[\]]/g,"")}\n  port: ${PT3}\n  uuid: ${t}\n  udp: false\n  tls: false\n  network: ws\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V4_${IP4}_${PT4}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP4.replace(/[\[\]]/g,"")}\n  port: ${PT4}\n  uuid: ${t}\n  udp: false\n  tls: false\n  network: ws\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V5_${IP5}_${PT5}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP5.replace(/[\[\]]/g,"")}\n  port: ${PT5}\n  uuid: ${t}\n  udp: false\n  tls: false\n  network: ws\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V6_${IP6}_${PT6}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP6.replace(/[\[\]]/g,"")}\n  port: ${PT6}\n  uuid: ${t}\n  udp: false\n  tls: false\n  network: ws\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V7_${IP7}_${PT7}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP7.replace(/[\[\]]/g,"")}\n  port: ${PT7}\n  uuid: ${t}\n  udp: false\n  tls: false\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V8_${IP8}_${PT8}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP8.replace(/[\[\]]/g,"")}\n  port: ${PT8}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V9_${IP9}_${PT9}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP9.replace(/[\[\]]/g,"")}\n  port: ${PT9}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V10_${IP10}_${PT10}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP10.replace(/[\[\]]/g,"")}\n  port: ${PT10}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V11_${IP11}_${PT11}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP11.replace(/[\[\]]/g,"")}\n  port: ${PT11}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V12_${IP12}_${PT12}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP12.replace(/[\[\]]/g,"")}\n  port: ${PT12}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V13_${IP13}_${PT13}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP13.replace(/[\[\]]/g,"")}\n  port: ${PT13}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\nproxy-groups:\n- name: 负载均衡\n  type: load-balance\n  url: http://www.gstatic.com/generate_204\n  interval: 300\n  proxies:\n    - CF_V1_${IP1}_${PT1}\n    - CF_V2_${IP2}_${PT2}\n    - CF_V3_${IP3}_${PT3}\n    - CF_V4_${IP4}_${PT4}\n    - CF_V5_${IP5}_${PT5}\n    - CF_V6_${IP6}_${PT6}\n    - CF_V7_${IP7}_${PT7}\n    - CF_V8_${IP8}_${PT8}\n    - CF_V9_${IP9}_${PT9}\n    - CF_V10_${IP10}_${PT10}\n    - CF_V11_${IP11}_${PT11}\n    - CF_V12_${IP12}_${PT12}\n    - CF_V13_${IP13}_${PT13}\n\n- name: 自动选择\n  type: url-test\n  url: http://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:\n    - CF_V1_${IP1}_${PT1}\n    - CF_V2_${IP2}_${PT2}\n    - CF_V3_${IP3}_${PT3}\n    - CF_V4_${IP4}_${PT4}\n    - CF_V5_${IP5}_${PT5}\n    - CF_V6_${IP6}_${PT6}\n    - CF_V7_${IP7}_${PT7}\n    - CF_V8_${IP8}_${PT8}\n    - CF_V9_${IP9}_${PT9}\n    - CF_V10_${IP10}_${PT10}\n    - CF_V11_${IP11}_${PT11}\n    - CF_V12_${IP12}_${PT12}\n    - CF_V13_${IP13}_${PT13}\n\n- name: 🌍选择代理\n  type: select\n  proxies:\n    - 负载均衡\n    - 自动选择\n    - DIRECT\n    - CF_V1_${IP1}_${PT1}\n    - CF_V2_${IP2}_${PT2}\n    - CF_V3_${IP3}_${PT3}\n    - CF_V4_${IP4}_${PT4}\n    - CF_V5_${IP5}_${PT5}\n    - CF_V6_${IP6}_${PT6}\n    - CF_V7_${IP7}_${PT7}\n    - CF_V8_${IP8}_${PT8}\n    - CF_V9_${IP9}_${PT9}\n    - CF_V10_${IP10}_${PT10}\n    - CF_V11_${IP11}_${PT11}\n    - CF_V12_${IP12}_${PT12}\n    - CF_V13_${IP13}_${PT13}\n\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,🌍选择代理`}function getsbConfig(t,n){return`{\n\t  "log": {\n\t\t"disabled": false,\n\t\t"level": "info",\n\t\t"timestamp": true\n\t  },\n\t  "experimental": {\n\t\t"clash_api": {\n\t\t  "external_controller": "127.0.0.1:9090",\n\t\t  "external_ui": "ui",\n\t\t  "external_ui_download_url": "",\n\t\t  "external_ui_download_detour": "",\n\t\t  "secret": "",\n\t\t  "default_mode": "Rule"\n\t\t},\n\t\t"cache_file": {\n\t\t  "enabled": true,\n\t\t  "path": "cache.db",\n\t\t  "store_fakeip": true\n\t\t}\n\t  },\n\t  "dns": {\n\t\t"servers": [\n\t\t  {\n\t\t\t"tag": "proxydns",\n\t\t\t"address": "tls://8.8.8.8/dns-query",\n\t\t\t"detour": "select"\n\t\t  },\n\t\t  {\n\t\t\t"tag": "localdns",\n\t\t\t"address": "h3://223.5.5.5/dns-query",\n\t\t\t"detour": "direct"\n\t\t  },\n\t\t  {\n\t\t\t"tag": "dns_fakeip",\n\t\t\t"address": "fakeip"\n\t\t  }\n\t\t],\n\t\t"rules": [\n\t\t  {\n\t\t\t"outbound": "any",\n\t\t\t"server": "localdns",\n\t\t\t"disable_cache": true\n\t\t  },\n\t\t  {\n\t\t\t"clash_mode": "Global",\n\t\t\t"server": "proxydns"\n\t\t  },\n\t\t  {\n\t\t\t"clash_mode": "Direct",\n\t\t\t"server": "localdns"\n\t\t  },\n\t\t  {\n\t\t\t"rule_set": "geosite-cn",\n\t\t\t"server": "localdns"\n\t\t  },\n\t\t  {\n\t\t\t"rule_set": "geosite-geolocation-!cn",\n\t\t\t"server": "proxydns"\n\t\t  },\n\t\t  {\n\t\t\t"rule_set": "geosite-geolocation-!cn",\n\t\t\t"query_type": [\n\t\t\t  "A",\n\t\t\t  "AAAA"\n\t\t\t],\n\t\t\t"server": "dns_fakeip"\n\t\t  }\n\t\t],\n\t\t"fakeip": {\n\t\t  "enabled": true,\n\t\t  "inet4_range": "198.18.0.0/15",\n\t\t  "inet6_range": "fc00::/18"\n\t\t},\n\t\t"independent_cache": true,\n\t\t"final": "proxydns"\n\t  },\n\t  "inbounds": [\n\t\t{\n\t\t  "type": "tun",\n                  "tag": "tun-in",\n\t\t  "address": [\n                    "172.19.0.1/30",\n\t\t    "fd00::1/126"\n      ],\n\t\t  "auto_route": true,\n\t\t  "strict_route": true,\n\t\t  "sniff": true,\n\t\t  "sniff_override_destination": true,\n\t\t  "domain_strategy": "prefer_ipv4"\n\t\t}\n\t  ],\n\t  "outbounds": [\n\t\t{\n\t\t  "tag": "select",\n\t\t  "type": "selector",\n\t\t  "default": "auto",\n\t\t  "outbounds": [\n\t\t\t"auto",\n\t\t\t"CF_V1_${IP1}_${PT1}",\n\t\t\t"CF_V2_${IP2}_${PT2}",\n\t\t\t"CF_V3_${IP3}_${PT3}",\n\t\t\t"CF_V4_${IP4}_${PT4}",\n\t\t\t"CF_V5_${IP5}_${PT5}",\n\t\t\t"CF_V6_${IP6}_${PT6}",\n\t\t\t"CF_V7_${IP7}_${PT7}",\n\t\t\t"CF_V8_${IP8}_${PT8}",\n\t\t\t"CF_V9_${IP9}_${PT9}",\n\t\t\t"CF_V10_${IP10}_${PT10}",\n\t\t\t"CF_V11_${IP11}_${PT11}",\n\t\t\t"CF_V12_${IP12}_${PT12}",\n\t\t\t"CF_V13_${IP13}_${PT13}"\n\t\t  ]\n\t\t},\n\t\t{\n\t\t  "server": "${IP1}",\n\t\t  "server_port": ${PT1},\n\t\t  "tag": "CF_V1_${IP1}_${PT1}",\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP2}",\n\t\t  "server_port": ${PT2},\n\t\t  "tag": "CF_V2_${IP2}_${PT2}",\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP3}",\n\t\t  "server_port": ${PT3},\n\t\t  "tag": "CF_V3_${IP3}_${PT3}",\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP4}",\n\t\t  "server_port": ${PT4},\n\t\t  "tag": "CF_V4_${IP4}_${PT4}",\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP5}",\n\t\t  "server_port": ${PT5},\n\t\t  "tag": "CF_V5_${IP5}_${PT5}",\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP6}",\n\t\t  "server_port": ${PT6},\n\t\t  "tag": "CF_V6_${IP6}_${PT6}",\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP7}",\n\t\t  "server_port": ${PT7},\n\t\t  "tag": "CF_V7_${IP7}_${PT7}",\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{     \n\t\t  "server": "${IP8}",\n\t\t  "server_port": ${PT8},\n\t\t  "tag": "CF_V8_${IP8}_${PT8}",\n\t\t  "tls": {\n\t\t\t"enabled": true,\n\t\t\t"server_name": "${n}",\n\t\t\t"insecure": false,\n\t\t\t"utls": {\n\t\t\t  "enabled": true,\n\t\t\t  "fingerprint": "chrome"\n\t\t\t}\n\t\t  },\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP9}",\n\t\t  "server_port": ${PT9},\n\t\t  "tag": "CF_V9_${IP9}_${PT9}",\n\t\t  "tls": {\n\t\t\t"enabled": true,\n\t\t\t"server_name": "${n}",\n\t\t\t"insecure": false,\n\t\t\t"utls": {\n\t\t\t  "enabled": true,\n\t\t\t  "fingerprint": "chrome"\n\t\t\t}\n\t\t  },\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP10}",\n\t\t  "server_port": ${PT10},\n\t\t  "tag": "CF_V10_${IP10}_${PT10}",\n\t\t  "tls": {\n\t\t\t"enabled": true,\n\t\t\t"server_name": "${n}",\n\t\t\t"insecure": false,\n\t\t\t"utls": {\n\t\t\t  "enabled": true,\n\t\t\t  "fingerprint": "chrome"\n\t\t\t}\n\t\t  },\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP11}",\n\t\t  "server_port": ${PT11},\n\t\t  "tag": "CF_V11_${IP11}_${PT11}",\n\t\t  "tls": {\n\t\t\t"enabled": true,\n\t\t\t"server_name": "${n}",\n\t\t\t"insecure": false,\n\t\t\t"utls": {\n\t\t\t  "enabled": true,\n\t\t\t  "fingerprint": "chrome"\n\t\t\t}\n\t\t  },\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP12}",\n\t\t  "server_port": ${PT12},\n\t\t  "tag": "CF_V12_${IP12}_${PT12}",\n\t\t  "tls": {\n\t\t\t"enabled": true,\n\t\t\t"server_name": "${n}",\n\t\t\t"insecure": false,\n\t\t\t"utls": {\n\t\t\t  "enabled": true,\n\t\t\t  "fingerprint": "chrome"\n\t\t\t}\n\t\t  },\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "server": "${IP13}",\n\t\t  "server_port": ${PT13},\n\t\t  "tag": "CF_V13_${IP13}_${PT13}",\n\t\t  "tls": {\n\t\t\t"enabled": true,\n\t\t\t"server_name": "${n}",\n\t\t\t"insecure": false,\n\t\t\t"utls": {\n\t\t\t  "enabled": true,\n\t\t\t  "fingerprint": "chrome"\n\t\t\t}\n\t\t  },\n\t\t  "packet_encoding": "packetaddr",\n\t\t  "transport": {\n\t\t\t"headers": {\n\t\t\t  "Host": [\n\t\t\t\t"${n}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t"path": "/?ed=2560",\n\t\t\t"type": "ws"\n\t\t  },\n\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t  "uuid": "${t}"\n\t\t},\n\t\t{\n\t\t  "tag": "direct",\n\t\t  "type": "direct"\n\t\t},\n\t\t{\n\t\t  "tag": "auto",\n\t\t  "type": "urltest",\n\t\t  "outbounds": [\n\t\t\t"CF_V1_${IP1}_${PT1}",\n\t\t\t"CF_V2_${IP2}_${PT2}",\n\t\t\t"CF_V3_${IP3}_${PT3}",\n\t\t\t"CF_V4_${IP4}_${PT4}",\n\t\t\t"CF_V5_${IP5}_${PT5}",\n\t\t\t"CF_V6_${IP6}_${PT6}",\n\t\t\t"CF_V7_${IP7}_${PT7}",\n\t\t\t"CF_V8_${IP8}_${PT8}",\n\t\t\t"CF_V9_${IP9}_${PT9}",\n\t\t\t"CF_V10_${IP10}_${PT10}",\n\t\t\t"CF_V11_${IP11}_${PT11}",\n\t\t\t"CF_V12_${IP12}_${PT12}",\n\t\t\t"CF_V13_${IP13}_${PT13}"\n\t\t  ],\n\t\t  "url": "https://www.gstatic.com/generate_204",\n\t\t  "interval": "1m",\n\t\t  "tolerance": 50,\n\t\t  "interrupt_exist_connections": false\n\t\t}\n\t  ],\n\t  "route": {\n\t\t"rule_set": [\n\t\t  {\n\t\t\t"tag": "geosite-geolocation-!cn",\n\t\t\t"type": "remote",\n\t\t\t"format": "binary",\n\t\t\t"url": "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs",\n\t\t\t"download_detour": "select",\n\t\t\t"update_interval": "1d"\n\t\t  },\n\t\t  {\n\t\t\t"tag": "geosite-cn",\n\t\t\t"type": "remote",\n\t\t\t"format": "binary",\n\t\t\t"url": "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs",\n\t\t\t"download_detour": "select",\n\t\t\t"update_interval": "1d"\n\t\t  },\n\t\t  {\n\t\t\t"tag": "geoip-cn",\n\t\t\t"type": "remote",\n\t\t\t"format": "binary",\n\t\t\t"url": "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs",\n\t\t\t"download_detour": "select",\n\t\t\t"update_interval": "1d"\n\t\t  }\n\t\t],\n\t\t"auto_detect_interface": true,\n\t\t"final": "select",\n\t\t"rules": [\n                         {\n                        "inbound": "tun-in",\n                        "action": "sniff"\n                         },\n                          {\n                        "protocol": "dns",\n                           "action": "hijack-dns"\n                         },\n                        {\n                        "port": 443,\n                        "network": "udp",\n                        "action": "reject"\n                         },\n\t\t  {\n\t\t\t"clash_mode": "Direct",\n\t\t\t"outbound": "direct"\n\t\t  },\n\t\t  {\n\t\t\t"clash_mode": "Global",\n\t\t\t"outbound": "select"\n\t\t  },\n\t\t  {\n\t\t\t"rule_set": "geoip-cn",\n\t\t\t"outbound": "direct"\n\t\t  },\n\t\t  {\n\t\t\t"rule_set": "geosite-cn",\n\t\t\t"outbound": "direct"\n\t\t  },\n\t\t  {\n\t\t\t"ip_is_private": true,\n\t\t\t"outbound": "direct"\n\t\t  },\n\t\t  {\n\t\t\t"rule_set": "geosite-geolocation-!cn",\n\t\t\t"outbound": "select"\n\t\t  }\n\t\t]\n\t  },\n\t  "ntp": {\n\t\t"enabled": true,\n\t\t"server": "time.apple.com",\n\t\t"server_port": 123,\n\t\t"interval": "30m",\n\t\t"detour": "direct"\n\t  }\n\t}`}function getptyConfig(t,n){return`${btoa(`\u0076\u006c\u0065\u0073\u0073://${t}@${IP8}:${PT8}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V8_${IP8}_${PT8}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP9}:${PT9}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V9_${IP9}_${PT9}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP10}:${PT10}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V10_${IP10}_${PT10}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP11}:${PT11}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V11_${IP11}_${PT11}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP12}:${PT12}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V12_${IP12}_${PT12}\n\u0076\u006c\u0065\u0073\u0073://${t}@${IP13}:${PT13}?encryption=none&security=tls&sni=${n}&fp=randomized&type=ws&host=${n}&path=%2F%3Fed%3D2560#CF_V13_${IP13}_${PT13}`)}`}function getpclConfig(t,n){return`\nport: 7890\nallow-lan: true\nmode: rule\nlog-level: info\nunified-delay: true\nglobal-client-fingerprint: chrome\ndns:\n  enable: false\n  listen: :53\n  ipv6: true\n  enhanced-mode: fake-ip\n  fake-ip-range: 198.18.0.1/16\n  default-nameserver: \n    - 223.5.5.5\n    - 114.114.114.114\n    - 8.8.8.8\n  nameserver:\n    - https://dns.alidns.com/dns-query\n    - https://doh.pub/dns-query\n  fallback:\n    - https://1.0.0.1/dns-query\n    - tls://dns.google\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\n\nproxies:\n- name: CF_V8_${IP8}_${PT8}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP8.replace(/[\[\]]/g,"")}\n  port: ${PT8}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V9_${IP9}_${PT9}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP9.replace(/[\[\]]/g,"")}\n  port: ${PT9}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V10_${IP10}_${PT10}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP10.replace(/[\[\]]/g,"")}\n  port: ${PT10}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V11_${IP11}_${PT11}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP11.replace(/[\[\]]/g,"")}\n  port: ${PT11}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V12_${IP12}_${PT12}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP12.replace(/[\[\]]/g,"")}\n  port: ${PT12}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\n- name: CF_V13_${IP13}_${PT13}\n  type: \u0076\u006c\u0065\u0073\u0073\n  server: ${IP13.replace(/[\[\]]/g,"")}\n  port: ${PT13}\n  uuid: ${t}\n  udp: false\n  tls: true\n  network: ws\n  servername: ${n}\n  ws-opts:\n    path: "/?ed=2560"\n    headers:\n      Host: ${n}\n\nproxy-groups:\n- name: 负载均衡\n  type: load-balance\n  url: http://www.gstatic.com/generate_204\n  interval: 300\n  proxies:\n    - CF_V8_${IP8}_${PT8}\n    - CF_V9_${IP9}_${PT9}\n    - CF_V10_${IP10}_${PT10}\n    - CF_V11_${IP11}_${PT11}\n    - CF_V12_${IP12}_${PT12}\n    - CF_V13_${IP13}_${PT13}\n\n- name: 自动选择\n  type: url-test\n  url: http://www.gstatic.com/generate_204\n  interval: 300\n  tolerance: 50\n  proxies:\n    - CF_V8_${IP8}_${PT8}\n    - CF_V9_${IP9}_${PT9}\n    - CF_V10_${IP10}_${PT10}\n    - CF_V11_${IP11}_${PT11}\n    - CF_V12_${IP12}_${PT12}\n    - CF_V13_${IP13}_${PT13}\n\n- name: 🌍选择代理\n  type: select\n  proxies:\n    - 负载均衡\n    - 自动选择\n    - DIRECT\n    - CF_V8_${IP8}_${PT8}\n    - CF_V9_${IP9}_${PT9}\n    - CF_V10_${IP10}_${PT10}\n    - CF_V11_${IP11}_${PT11}\n    - CF_V12_${IP12}_${PT12}\n    - CF_V13_${IP13}_${PT13}\n\nrules:\n  - GEOIP,LAN,DIRECT\n  - GEOIP,CN,DIRECT\n  - MATCH,🌍选择代理`}function getpsbConfig(t,n){return`{\n\t\t  "log": {\n\t\t\t"disabled": false,\n\t\t\t"level": "info",\n\t\t\t"timestamp": true\n\t\t  },\n\t\t  "experimental": {\n\t\t\t"clash_api": {\n\t\t\t  "external_controller": "127.0.0.1:9090",\n\t\t\t  "external_ui": "ui",\n\t\t\t  "external_ui_download_url": "",\n\t\t\t  "external_ui_download_detour": "",\n\t\t\t  "secret": "",\n\t\t\t  "default_mode": "Rule"\n\t\t\t},\n\t\t\t"cache_file": {\n\t\t\t  "enabled": true,\n\t\t\t  "path": "cache.db",\n\t\t\t  "store_fakeip": true\n\t\t\t}\n\t\t  },\n\t\t  "dns": {\n\t\t\t"servers": [\n\t\t\t  {\n\t\t\t\t"tag": "proxydns",\n\t\t\t\t"address": "tls://8.8.8.8/dns-query",\n\t\t\t\t"detour": "select"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"tag": "localdns",\n\t\t\t\t"address": "h3://223.5.5.5/dns-query",\n\t\t\t\t"detour": "direct"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"tag": "dns_fakeip",\n\t\t\t\t"address": "fakeip"\n\t\t\t  }\n\t\t\t],\n\t\t\t"rules": [\n\t\t\t  {\n\t\t\t\t"outbound": "any",\n\t\t\t\t"server": "localdns",\n\t\t\t\t"disable_cache": true\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"clash_mode": "Global",\n\t\t\t\t"server": "proxydns"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"clash_mode": "Direct",\n\t\t\t\t"server": "localdns"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"rule_set": "geosite-cn",\n\t\t\t\t"server": "localdns"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"rule_set": "geosite-geolocation-!cn",\n\t\t\t\t"server": "proxydns"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"rule_set": "geosite-geolocation-!cn",\n\t\t\t\t"query_type": [\n\t\t\t\t  "A",\n\t\t\t\t  "AAAA"\n\t\t\t\t],\n\t\t\t\t"server": "dns_fakeip"\n\t\t\t  }\n\t\t\t],\n\t\t\t"fakeip": {\n\t\t\t  "enabled": true,\n\t\t\t  "inet4_range": "198.18.0.0/15",\n\t\t\t  "inet6_range": "fc00::/18"\n\t\t\t},\n\t\t\t"independent_cache": true,\n\t\t\t"final": "proxydns"\n\t\t  },\n\t\t  "inbounds": [\n\t\t\t{\n\t\t\t  "type": "tun",\n                        "tag": "tun-in",\n\t\t  "address": [\n                    "172.19.0.1/30",\n\t\t    "fd00::1/126"\n      ],\n\t\t\t  "auto_route": true,\n\t\t\t  "strict_route": true,\n\t\t\t  "sniff": true,\n\t\t\t  "sniff_override_destination": true,\n\t\t\t  "domain_strategy": "prefer_ipv4"\n\t\t\t}\n\t\t  ],\n\t\t  "outbounds": [\n\t\t\t{\n\t\t\t  "tag": "select",\n\t\t\t  "type": "selector",\n\t\t\t  "default": "auto",\n\t\t\t  "outbounds": [\n\t\t\t\t"auto",\n\t\t\t\t"CF_V8_${IP8}_${PT8}",\n\t\t\t\t"CF_V9_${IP9}_${PT9}",\n\t\t\t\t"CF_V10_${IP10}_${PT10}",\n\t\t\t\t"CF_V11_${IP11}_${PT11}",\n\t\t\t\t"CF_V12_${IP12}_${PT12}",\n\t\t\t\t"CF_V13_${IP13}_${PT13}"\n\t\t\t  ]\n\t\t\t},\n\t\t\t{\n\t\t\t  "server": "${IP8}",\n\t\t\t  "server_port": ${PT8},\n\t\t\t  "tag": "CF_V8_${IP8}_${PT8}",\n\t\t\t  "tls": {\n\t\t\t\t"enabled": true,\n\t\t\t\t"server_name": "${n}",\n\t\t\t\t"insecure": false,\n\t\t\t\t"utls": {\n\t\t\t\t  "enabled": true,\n\t\t\t\t  "fingerprint": "chrome"\n\t\t\t\t}\n\t\t\t  },\n\t\t\t  "packet_encoding": "packetaddr",\n\t\t\t  "transport": {\n\t\t\t\t"headers": {\n\t\t\t\t  "Host": [\n\t\t\t\t\t"${n}"\n\t\t\t\t  ]\n\t\t\t\t},\n\t\t\t\t"path": "/?ed=2560",\n\t\t\t\t"type": "ws"\n\t\t\t  },\n\t\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t\t  "uuid": "${t}"\n\t\t\t},\n\t\t\t{\n\t\t\t  "server": "${IP9}",\n\t\t\t  "server_port": ${PT9},\n\t\t\t  "tag": "CF_V9_${IP9}_${PT9}",\n\t\t\t  "tls": {\n\t\t\t\t"enabled": true,\n\t\t\t\t"server_name": "${n}",\n\t\t\t\t"insecure": false,\n\t\t\t\t"utls": {\n\t\t\t\t  "enabled": true,\n\t\t\t\t  "fingerprint": "chrome"\n\t\t\t\t}\n\t\t\t  },\n\t\t\t  "packet_encoding": "packetaddr",\n\t\t\t  "transport": {\n\t\t\t\t"headers": {\n\t\t\t\t  "Host": [\n\t\t\t\t\t"${n}"\n\t\t\t\t  ]\n\t\t\t\t},\n\t\t\t\t"path": "/?ed=2560",\n\t\t\t\t"type": "ws"\n\t\t\t  },\n\t\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t\t  "uuid": "${t}"\n\t\t\t},\n\t\t\t{\n\t\t\t  "server": "${IP10}",\n\t\t\t  "server_port": ${PT10},\n\t\t\t  "tag": "CF_V10_${IP10}_${PT10}",\n\t\t\t  "tls": {\n\t\t\t\t"enabled": true,\n\t\t\t\t"server_name": "${n}",\n\t\t\t\t"insecure": false,\n\t\t\t\t"utls": {\n\t\t\t\t  "enabled": true,\n\t\t\t\t  "fingerprint": "chrome"\n\t\t\t\t}\n\t\t\t  },\n\t\t\t  "packet_encoding": "packetaddr",\n\t\t\t  "transport": {\n\t\t\t\t"headers": {\n\t\t\t\t  "Host": [\n\t\t\t\t\t"${n}"\n\t\t\t\t  ]\n\t\t\t\t},\n\t\t\t\t"path": "/?ed=2560",\n\t\t\t\t"type": "ws"\n\t\t\t  },\n\t\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t\t  "uuid": "${t}"\n\t\t\t},\n\t\t\t{\n\t\t\t  "server": "${IP11}",\n\t\t\t  "server_port": ${PT11},\n\t\t\t  "tag": "CF_V11_${IP11}_${PT11}",\n\t\t\t  "tls": {\n\t\t\t\t"enabled": true,\n\t\t\t\t"server_name": "${n}",\n\t\t\t\t"insecure": false,\n\t\t\t\t"utls": {\n\t\t\t\t  "enabled": true,\n\t\t\t\t  "fingerprint": "chrome"\n\t\t\t\t}\n\t\t\t  },\n\t\t\t  "packet_encoding": "packetaddr",\n\t\t\t  "transport": {\n\t\t\t\t"headers": {\n\t\t\t\t  "Host": [\n\t\t\t\t\t"${n}"\n\t\t\t\t  ]\n\t\t\t\t},\n\t\t\t\t"path": "/?ed=2560",\n\t\t\t\t"type": "ws"\n\t\t\t  },\n\t\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t\t  "uuid": "${t}"\n\t\t\t},\n\t\t\t{\n\t\t\t  "server": "${IP12}",\n\t\t\t  "server_port": ${PT12},\n\t\t\t  "tag": "CF_V12_${IP12}_${PT12}",\n\t\t\t  "tls": {\n\t\t\t\t"enabled": true,\n\t\t\t\t"server_name": "${n}",\n\t\t\t\t"insecure": false,\n\t\t\t\t"utls": {\n\t\t\t\t  "enabled": true,\n\t\t\t\t  "fingerprint": "chrome"\n\t\t\t\t}\n\t\t\t  },\n\t\t\t  "packet_encoding": "packetaddr",\n\t\t\t  "transport": {\n\t\t\t\t"headers": {\n\t\t\t\t  "Host": [\n\t\t\t\t\t"${n}"\n\t\t\t\t  ]\n\t\t\t\t},\n\t\t\t\t"path": "/?ed=2560",\n\t\t\t\t"type": "ws"\n\t\t\t  },\n\t\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t\t  "uuid": "${t}"\n\t\t\t},\n\t\t\t{\n\t\t\t  "server": "${IP13}",\n\t\t\t  "server_port": ${PT13},\n\t\t\t  "tag": "CF_V13_${IP13}_${PT13}",\n\t\t\t  "tls": {\n\t\t\t\t"enabled": true,\n\t\t\t\t"server_name": "${n}",\n\t\t\t\t"insecure": false,\n\t\t\t\t"utls": {\n\t\t\t\t  "enabled": true,\n\t\t\t\t  "fingerprint": "chrome"\n\t\t\t\t}\n\t\t\t  },\n\t\t\t  "packet_encoding": "packetaddr",\n\t\t\t  "transport": {\n\t\t\t\t"headers": {\n\t\t\t\t  "Host": [\n\t\t\t\t\t"${n}"\n\t\t\t\t  ]\n\t\t\t\t},\n\t\t\t\t"path": "/?ed=2560",\n\t\t\t\t"type": "ws"\n\t\t\t  },\n\t\t\t  "type": "\u0076\u006c\u0065\u0073\u0073",\n\t\t\t  "uuid": "${t}"\n\t\t\t},\n\t\t\t{\n\t\t\t  "tag": "direct",\n\t\t\t  "type": "direct"\n\t\t\t},\n\t\t\t{\n\t\t\t  "tag": "auto",\n\t\t\t  "type": "urltest",\n\t\t\t  "outbounds": [\n\t\t\t\t"CF_V8_${IP8}_${PT8}",\n\t\t\t\t"CF_V9_${IP9}_${PT9}",\n\t\t\t\t"CF_V10_${IP10}_${PT10}",\n\t\t\t\t"CF_V11_${IP11}_${PT11}",\n\t\t\t\t"CF_V12_${IP12}_${PT12}",\n\t\t\t\t"CF_V13_${IP13}_${PT13}"\n\t\t\t  ],\n\t\t\t  "url": "https://www.gstatic.com/generate_204",\n\t\t\t  "interval": "1m",\n\t\t\t  "tolerance": 50,\n\t\t\t  "interrupt_exist_connections": false\n\t\t\t}\n\t\t  ],\n\t\t  "route": {\n\t\t\t"rule_set": [\n\t\t\t  {\n\t\t\t\t"tag": "geosite-geolocation-!cn",\n\t\t\t\t"type": "remote",\n\t\t\t\t"format": "binary",\n\t\t\t\t"url": "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs",\n\t\t\t\t"download_detour": "select",\n\t\t\t\t"update_interval": "1d"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"tag": "geosite-cn",\n\t\t\t\t"type": "remote",\n\t\t\t\t"format": "binary",\n\t\t\t\t"url": "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs",\n\t\t\t\t"download_detour": "select",\n\t\t\t\t"update_interval": "1d"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"tag": "geoip-cn",\n\t\t\t\t"type": "remote",\n\t\t\t\t"format": "binary",\n\t\t\t\t"url": "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs",\n\t\t\t\t"download_detour": "select",\n\t\t\t\t"update_interval": "1d"\n\t\t\t  }\n\t\t\t],\n\t\t\t"auto_detect_interface": true,\n\t\t\t"final": "select",\n\t\t\t"rules": [\n                          {\n                         "inbound": "tun-in",\n                          "action": "sniff"\n                          },\n                          {\n                          "protocol": "dns",\n                          "action": "hijack-dns"\n                           },\n                          {\n                           "port": 443,\n                          "network": "udp",\n                          "action": "reject"\n                          },\n\t\t\t  {\n\t\t\t\t"clash_mode": "Direct",\n\t\t\t\t"outbound": "direct"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"clash_mode": "Global",\n\t\t\t\t"outbound": "select"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"rule_set": "geoip-cn",\n\t\t\t\t"outbound": "direct"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"rule_set": "geosite-cn",\n\t\t\t\t"outbound": "direct"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"ip_is_private": true,\n\t\t\t\t"outbound": "direct"\n\t\t\t  },\n\t\t\t  {\n\t\t\t\t"rule_set": "geosite-geolocation-!cn",\n\t\t\t\t"outbound": "select"\n\t\t\t  }\n\t\t\t]\n\t\t  },\n\t\t  "ntp": {\n\t\t\t"enabled": true,\n\t\t\t"server": "time.apple.com",\n\t\t\t"server_port": 123,\n\t\t\t"interval": "30m",\n\t\t\t"detour": "direct"\n\t\t  }\n\t\t}`}